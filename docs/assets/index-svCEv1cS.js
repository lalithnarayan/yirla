import{K as Te,g as je,$ as n,r as c,j as i,a4 as Ye}from"./index-sFzf4xgK.js";import{a as we}from"./useControllableState-vYcyW9Gn.js";import{u as De}from"./useMergeRef-Rt_Crb27.js";import{c as L,C as Le,R as ve}from"./RangeCalendar-VdZRgz_Z.js";import{I as Be}from"./Input-54qFW4_N.js";import{f as Ie}from"./index.esm-a15joBQq.js";import{C as Ne}from"./CloseButton-Lwp70ThL.js";import{u as Ae,b as Ee,f as He,c as ze,d as $e,e as Ke,g as Ue}from"./floating-ui.react-xe1dPT16.js";import{o as We,f as Ge,s as Ze,a as qe}from"./floating-ui.dom-KU0eYpRY.js";import{T as Je}from"./TimeInput-CVdDVJm6.js";import{B as Qe}from"./Button-7VCVZJfX.js";var Oe={exports:{}};(function(f,N){(function(O,A){f.exports=A()})(Te,function(){var O={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(A,E,p){var H=E.prototype,S=H.format;p.en.formats=O,H.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var w=this.$locale().formats,G=function(C,V){return C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(z,g,d){var P=d&&d.toUpperCase();return g||V[d]||O[d]||V[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,Z,K){return Z||K.slice(1)})})}(h,w===void 0?{}:w);return S.call(this,G)}}})})(Oe);var Xe=Oe.exports;const _e=je(Xe);n.extend(_e);const Me=c.forwardRef((f,N)=>{const{className:O,clearable:A=!0,clearButton:E,children:p,disabled:H,dropdownOpened:S,inputtable:h,inputtableBlurClose:w=!0,inputLabel:G,inputPrefix:C,inputSuffix:V=i.jsx(Ie,{className:"text-lg"}),name:z,onDropdownOpen:g,onDropdownClose:d,onBlur:P,onFocus:$,onChange:Z,onKeyDown:K,onClear:_,placeholder:ae,setDropdownOpened:q,size:R,type:ne,form:se,field:y}=f,b=()=>{h?D():k(!S)},oe=()=>{q(!1),d==null||d()},T=A?E?i.jsx("div",{role:"presentation",onClick:_,children:E}):i.jsx(Ne,{className:"text-base",onClick:_}):V?i.jsx(i.Fragment,{children:V}):null,k=s=>{q(s),s?g==null||g():d==null||d()},D=()=>{q(!0),g==null||g()},j=s=>{typeof K=="function"&&K(s),(s.key==="Space"||s.key==="Enter")&&!h&&(s.preventDefault(),D())},x=s=>{P==null||P(s),h&&w&&oe()},U=s=>{$==null||$(s)},{refs:ee,floatingStyles:le,context:W}=Ae({open:S,onOpenChange:k,placement:"bottom-start",middleware:[We(10),Ge({fallbackAxisSideDirection:"start"}),Ze()],whileElementsMounted:qe}),M=Ee(W),v=He(W),re=ze(W),J=$e(W),{getReferenceProps:te,getFloatingProps:m}=Ke([h?M:v,re,J]),l=Ue();return i.jsxs(i.Fragment,{children:[i.jsx(Be,{ref:De(N,ee.setReference),form:se,field:y,className:O,placeholder:ae,size:R,name:z,value:G,readOnly:!h,suffix:T,prefix:C,autoComplete:"off",type:ne,disabled:H,asElement:"input",onKeyDown:j,onClick:b,onChange:Z,...te({onBlur:x,onFocus:U})}),S&&i.jsx("div",{className:"picker",ref:ee.setFloating,style:le,"aria-labelledby":l,...m(),children:i.jsx("div",{className:"picker-panel",children:p})})]})});Me.displayName="BasePicker";const ke="YYYY-MM-DD",Se=c.forwardRef((f,N)=>{const{className:O,clearable:A=!0,clearButton:E,closePickerOnChange:p=!0,dateViewCount:H,dayClassName:S,dayStyle:h,defaultMonth:w,defaultOpen:G=!1,defaultValue:C,defaultView:V,disabled:z=!1,disableDate:g,enableHeaderLabel:d,disableOutOfMonth:P,firstDayOfWeek:$="monday",hideOutOfMonthDates:Z,hideWeekdays:K,inputFormat:_,inputPrefix:ae,inputSuffix:q,inputtable:R,labelFormat:ne={month:"MMM",year:"YYYY"},locale:se,maxDate:y,minDate:b,name:oe="date",onBlur:T,onChange:k,onFocus:D,onDropdownClose:j,onDropdownOpen:x,openPickerOnClear:U=!1,renderDay:ee,size:le,style:W,type:M,value:v,weekendDays:re,yearLabelFormat:J,...te}=f,{locale:m}=Ye(),l=se||m,s=M==="date"?ke:_||ke,[o,B]=c.useState(G),ue=c.useRef(null),[fe,a]=c.useState(C??null),[r,Q]=we({prop:v,defaultProp:C,onChange:k}),[X,I]=c.useState(r||w||new Date),[u,ce]=c.useState(!1),[Y,F]=c.useState(r instanceof Date?L(n(r).locale(l).format(s)):""),de=()=>{B(!1),j==null||j()},me=()=>{B(!0),x==null||x()};c.useEffect(()=>{r||(y&&n(X).isAfter(y)&&I(y),b&&n(X).isBefore(b)&&I(b))},[b,y]),c.useEffect(()=>{v===null&&!u&&F(""),v instanceof Date&&!u&&F(L(n(v).locale(l).format(s)))},[v,u,m]),c.useEffect(()=>{C instanceof Date&&Y&&!u&&F(L(n(r).locale(l).format(s)))},[m]);const ge=e=>{Q(e),F(L(n(e).locale(l).format(s))),p&&de(),window.setTimeout(()=>{var ie;return(ie=ue.current)==null?void 0:ie.focus()},0)},ye=()=>{var e;Q(null),a(null),F(""),U&&me(),(e=ue.current)==null||e.focus()},pe=e=>n(e,s,l).toDate(),he=()=>{let e=typeof r=="string"?pe(r):r;y&&n(e).isAfter(y)&&(e=y),b&&n(e).isBefore(b)&&(e=b),n(e).isValid()?(Q(e),a(e),F(L(n(e).locale(l).format(s))),I(e)):Q(fe)},be=e=>{typeof T=="function"&&T(e),ce(!1),R&&he()},Ce=e=>{e.key==="Enter"&&R&&(de(),he())},xe=e=>{typeof D=="function"&&D(e),ce(!0)},t=e=>{me();const ie=pe(e.target.value);n(ie).isValid()?(Q(ie),a(ie),F(e.target.value),I(ie)):F(e.target.value)};return i.jsx(Me,{ref:De(N,ue),inputtable:R,dropdownOpened:o,setDropdownOpened:B,size:le,style:W,className:O,name:oe,inputLabel:Y,clearable:M==="date"?!1:A&&!!r&&!z,clearButton:E,disabled:z,type:M,inputPrefix:ae,inputSuffix:q,onChange:t,onBlur:be,onFocus:xe,onKeyDown:Ce,onClear:ye,onDropdownClose:j,onDropdownOpen:x,...te,children:i.jsx(Le,{locale:l,month:R?X:void 0,defaultMonth:w||(r instanceof Date?r:new Date),value:r instanceof Date?r:r&&n(r).toDate(),labelFormat:ne,dayClassName:S,dayStyle:h,disableOutOfMonth:P,minDate:b,maxDate:y,disableDate:g,firstDayOfWeek:$,preventFocus:R,dateViewCount:H,enableHeaderLabel:d,defaultView:V,hideOutOfMonthDates:Z,hideWeekdays:K,renderDay:ee,weekendDays:re,yearLabelFormat:J,onMonthChange:I,onChange:ge})})});Se.displayName="DatePicker";const Fe=f=>Array.isArray(f)&&f.length===2&&f.every(N=>N instanceof Date),et=f=>Array.isArray(f)&&f.length===2&&f[0]instanceof Date,Ve=c.forwardRef((f,N)=>{const{className:O,clearable:A=!0,clearButton:E,closePickerOnChange:p=!0,dateViewCount:H=1,dayClassName:S,dayStyle:h,defaultMonth:w,defaultOpen:G=!1,defaultValue:C,defaultView:V,disabled:z,disableDate:g,enableHeaderLabel:d,disableOutOfMonth:P,firstDayOfWeek:$="monday",hideOutOfMonthDates:Z,hideWeekdays:K,inputFormat:_,inputPrefix:ae,inputSuffix:q,labelFormat:R={month:"MMM",year:"YYYY"},separator:ne="~",locale:se,maxDate:y,minDate:b,onChange:oe,onDropdownClose:T,onDropdownOpen:k,openPickerOnClear:D=!1,renderDay:j,singleDate:x=!1,size:U,style:ee,value:le,weekendDays:W,yearLabelFormat:M,...v}=f,{locale:re}=Ye(),J=se||re,te=_||"YYYY-MM-DD",[m,l]=c.useState(G),s=c.useRef(null),[o,B]=we({prop:le,defaultProp:C!==void 0?C:[null,null],onChange:oe}),ue=u=>{B(u),p&&Fe(u)&&(l(!1),T==null||T(),window.setTimeout(()=>{var ce;return(ce=s.current)==null?void 0:ce.focus()},0))},fe=Fe(o),a=et(o),r=o!=null&&o[0]?L(n(o[0]).locale(J).format(te)):"",Q=o!=null&&o[1]?L(n(o[1]).locale(J).format(te)):"",X=()=>{var u;B([null,null]),l(!0),D&&(k==null||k()),(u=s.current)==null||u.focus()},I=u=>{!u&&a&&(o==null?void 0:o[1])===null&&X(),l(u)};return i.jsx(Me,{ref:De(N,s),dropdownOpened:m,setDropdownOpened:I,size:U,style:ee,className:O,inputLabel:a?`${r} ${ne} ${Q}`:"",clearable:A&&a,clearButton:E,disabled:z,inputPrefix:ae,inputSuffix:q,onClear:X,onDropdownClose:T,onDropdownOpen:k,...v,children:i.jsx(ve,{locale:J,defaultMonth:fe?o==null?void 0:o[0]:w,value:o,labelFormat:R,dayClassName:S,dayStyle:h,disableOutOfMonth:P,minDate:b,maxDate:y,disableDate:g,firstDayOfWeek:$,enableHeaderLabel:d,singleDate:x,dateViewCount:H,defaultView:V,hideOutOfMonthDates:Z,hideWeekdays:K,renderDay:j,weekendDays:W,yearLabelFormat:M,onChange:u=>ue(u)})})});Ve.displayName="DatePickerRange";const tt="DD-MMM-YYYY hh:mm a",Pe=c.forwardRef((f,N)=>{const{amPm:O=!0,className:A,clearable:E=!0,closePickerOnChange:p=!1,dateViewCount:H,dayClassName:S,dayStyle:h,defaultMonth:w,defaultOpen:G=!1,defaultValue:C,defaultView:V,disabled:z=!1,disableDate:g,enableHeaderLabel:d,disableOutOfMonth:P,firstDayOfWeek:$="monday",hideOutOfMonthDates:Z,hideWeekdays:K,inputFormat:_,inputPrefix:ae,inputSuffix:q,inputtable:R,labelFormat:ne={month:"MMM",year:"YYYY"},locale:se,maxDate:y,minDate:b,name:oe="dateTime",okButtonContent:T="OK",onBlur:k,onChange:D,onFocus:j,onDropdownClose:x,onDropdownOpen:U,openPickerOnClear:ee,renderDay:le,size:W,value:M,weekendDays:v,yearLabelFormat:re,...J}=f,{locale:te}=Ye(),m=se||te,l=_||tt,[s,o]=c.useState(G),B=c.useRef(null),[ue,fe]=c.useState(C??null),[a,r]=we({prop:M,defaultProp:C,onChange:D}),[Q,X]=c.useState(a||w||new Date),[I,u]=c.useState(!1),[ce,Y]=c.useState(a instanceof Date?L(n(a).locale(m).format(l)):""),F=()=>{o(!1),x==null||x()},de=()=>{o(!0),U==null||U()};c.useEffect(()=>{M===null&&!I&&Y(""),M instanceof Date&&!I&&Y(n(M).locale(m).format(l))},[M,I]);const me=t=>{if(a)t.setHours(a.getHours()),t.setMinutes(a.getMinutes());else{const e=new Date(Date.now());t.setHours(e.getHours()),t.setMinutes(e.getMinutes())}r(t),!M&&!p&&Y(n(t).locale(m).format(l)),p&&Y(L(n(t).locale(m).format(l))),p&&F(),window.setTimeout(()=>{var e;return(e=B.current)==null?void 0:e.focus()},0)},ge=()=>{var t;r(null),fe(null),Y(""),ee&&de(),(t=B.current)==null||t.focus(),D==null||D(null)},ye=t=>n(t,l,m).toDate(),pe=t=>{typeof k=="function"&&k(t),u(!1)},he=t=>{typeof j=="function"&&j(t),u(!0)},be=t=>{de();const e=ye(t.target.value);n(e).isValid()?(r(e),fe(e),p&&Y(t.target.value),X(e)):p&&Y(t.target.value)},Ce=t=>{if(a instanceof Date&&t instanceof Date){const e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());r(e),!M&&!p&&Y(L(n(e).locale(m).format(l))),p&&Y(L(n(e).locale(m).format(l)))}p&&F()},xe=()=>{Y(L(n(a).locale(m).format(l))),F(),window.setTimeout(()=>{var t;return(t=B.current)==null?void 0:t.focus()},0),D==null||D(a)};return i.jsxs(Me,{ref:De(N,B),dropdownOpened:s,setDropdownOpened:o,className:A,name:oe,inputLabel:ce,clearable:E&&!!a&&!z,disabled:z,size:W,inputPrefix:ae,inputSuffix:q,onChange:be,onBlur:pe,onFocus:he,onClear:ge,onDropdownClose:x,onDropdownOpen:U,...J,children:[i.jsx(Le,{locale:m,month:R?Q:void 0,defaultMonth:w||(a instanceof Date?a:new Date),value:a instanceof Date?a:a&&n(a).toDate(),labelFormat:ne,dayClassName:S,dayStyle:h,disableOutOfMonth:P,minDate:b,maxDate:y,disableDate:g,firstDayOfWeek:$,preventFocus:!1,dateViewCount:H,enableHeaderLabel:d,defaultView:V,hideOutOfMonthDates:Z,hideWeekdays:K,renderDay:le,weekendDays:v,yearLabelFormat:re,onMonthChange:X,onChange:me}),i.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[i.jsx(Je,{disabled:!a,value:a,format:O?"12":"24",clearable:!1,size:"sm",onChange:Ce}),i.jsx(Qe,{size:"sm",disabled:!a,onClick:xe,children:T})]})]})});Pe.displayName="DateTimepicker";const Re=Se;Re.DatePickerRange=Ve;Re.DateTimepicker=Pe;export{Re as D};
