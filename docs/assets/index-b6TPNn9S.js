import{f as N,r as f,j as e,W as h,Y as S,G as L,Z as T,X as F}from"./index-sFzf4xgK.js";import{C as K}from"./Views-cMR82yL4.js";import{A as P}from"./AdaptableCard-ZmpuYt9J.js";import{C as k}from"./Card-0NcWSoxi.js";import{B as n}from"./Button-7VCVZJfX.js";import{D as b}from"./index-wez2DYcz.js";import{A as p}from"./index-l28G_51M.js";import{D as R}from"./Dialog-4z8jxMEB.js";import{I as z}from"./Input-54qFW4_N.js";import{C as B}from"./ConfirmDialog-dUTTJxAI.js";import{u as g,t as M,s as x,a as q,b as w,c as I,g as G,d as W,r as X}from"./index-hHTsx7eT.js";import{L as Y,M as Z,b as J,N as Q}from"./index.esm-a15joBQq.js";import{m as U}from"./motion-JMywUYCu.js";import"./context-_X_Ia2Rl.js";import"./useRootClose-b8-XJ4kM.js";import"./isNil-jxFxtNPR.js";import"./useUniqueId-PxbSI7-8.js";import"./index-F1ElV9AB.js";import"./chainedFunction-ltcSYACe.js";import"./index-HXixJCfp.js";import"./useMergeRef-Rt_Crb27.js";import"./Tooltip-2HBl8IKw.js";import"./index.esm-PEPNg8t8.js";import"./floating-ui.react-xe1dPT16.js";import"./floating-ui.dom-KU0eYpRY.js";import"./index-PQBKoFWY.js";import"./index-mu0NPuvO.js";import"./CloseButton-Lwp70ThL.js";import"./KnowledgeBaseService-HRLXEqLp.js";const _=({data:s})=>{const t=N(),r=f.useRef(null),c=f.useRef(null),o=g(a=>a.knowledgeBaseManageArticles.data.articleDeleteConfirmation),j=g(a=>a.knowledgeBaseManageArticles.data.categoryDeleteConfirmation),u=g(a=>a.knowledgeBaseManageArticles.data.categoryRenameDialog),C=g(a=>a.knowledgeBaseManageArticles.data.categoryAddDialog),d=g(a=>a.knowledgeBaseManageArticles.data.selected),l=()=>{t(M(!1))},O=()=>{const m=h(s).map(i=>(i.value===d.categoryValue&&(i.articles=i.articles.filter(H=>H.id!==d.id)),i));t(M(!1)),t(x(m))},y=()=>{t(q(!1))},V=()=>{const m=h(s).map(i=>(i.value===d.categoryValue&&r.current&&(i.label=r.current.value),i));t(q(!1)),t(x(m))},v=()=>{t(w(!1))},$=()=>{const m=h(s).filter(i=>i.value!==d.categoryValue);t(w(!1)),t(x(m))},A=()=>{t(I(!1))},E=()=>{const a=h(s);if(c.current){const m=[{label:c.current.value,value:S("new-category"),articles:[]},...a];t(x(m))}t(I(!1))};return e.jsxs(e.Fragment,{children:[e.jsx(B,{isOpen:o,type:"danger",title:"Delete article",confirmButtonColor:"red-600",onClose:l,onRequestClose:l,onCancel:l,onConfirm:O,children:e.jsx("p",{children:"Are you sure you want to delete this article? This action cannot be undone."})}),e.jsx(B,{isOpen:j,type:"danger",title:"Delete category",confirmButtonColor:"red-600",onClose:v,onRequestClose:v,onCancel:v,onConfirm:$,children:e.jsx("p",{children:"Are you sure you want to delete this category? All the articles under this category will be deleted as well. All This action cannot be undone."})}),e.jsxs(R,{isOpen:u,onClose:y,onRequestClose:y,children:[e.jsx("h5",{className:"mb-4",children:"Rename Category"}),e.jsx("div",{children:e.jsx(z,{ref:r})}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(n,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:y,children:"Cancel"}),e.jsx(n,{variant:"solid",onClick:V,children:"Confirm"})]})]}),e.jsxs(R,{isOpen:C,onClose:A,onRequestClose:A,children:[e.jsx("h5",{className:"mb-4",children:"Add Category"}),e.jsx("div",{children:e.jsx(z,{ref:c})}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(n,{size:"sm",className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:A,children:"Cancel"}),e.jsx(n,{size:"sm",variant:"solid",onClick:E,children:"Add"})]})]})]})},ee=({data:s})=>{var d;const t=N(),[r,c]=f.useState(!1),o=T(),j=()=>{c(!r)},u=()=>{o(`/app/knowledge-base/edit-article?categoryLabel=${s.label}&categoryValue=${s.value}`)},C=()=>{t(W({id:"",categoryValue:s.value})),t(w(!0))};return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer select-none",onClick:j,children:[e.jsx("span",{className:"text-lg",children:r?e.jsx(Y,{}):e.jsx(Z,{})}),e.jsx("h5",{children:s==null?void 0:s.label}),e.jsxs("span",{children:["(",(d=s==null?void 0:s.articles)==null?void 0:d.length,")"]})]}),e.jsx("hr",{className:"mx-3 w-full"}),e.jsxs(b,{placement:"bottom-end",renderTitle:e.jsx(n,{shape:"circle",variant:"plain",icon:e.jsx(J,{})}),children:[e.jsx(b.Item,{eventKey:"addArticle",onClick:()=>u(),children:"Add Creator"}),e.jsx(b.Item,{eventKey:"delete",onClick:C,children:"Delete"})]})]}),e.jsxs(U.div,{className:"grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4 mt-4",initial:{opacity:0,height:0,overflow:"hidden"},animate:{opacity:r?0:1,height:r?0:"auto"},transition:{duration:.15},children:[s.articles.length===0&&e.jsx(k,{clickable:!0,className:"group border-dashed border-2 hover:border-indigo-600",onClick:u,children:e.jsxs("div",{className:"flex flex-col justify-center items-center py-5",children:[e.jsx("div",{className:"p-4 border-2 border-dashed rounded-full border-gray-200 dark:border-gray-600 group-hover:border-indigo-600",children:e.jsx(Q,{className:"text-4xl text-gray-200 dark:text-gray-600 group-hover:text-indigo-600"})}),e.jsx("p",{className:"mt-5 font-semibold",children:"Add article"})]})}),D==null?void 0:D.map(l=>e.jsxs(k,{bordered:!0,children:[e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsx(p,{size:100,src:"/img/avatars/thumb-1.jpg",shape:"circle"})}),e.jsx("h6",{className:"truncate mb-4",children:l.title}),e.jsx("p",{className:"truncate mb-4",children:l.email}),e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsx(n,{size:"xs",variant:"default",children:`${l==null?void 0:l.followers} Followers`})}),e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsx(n,{size:"xs",variant:"default",children:`${l==null?void 0:l.engagement}% Engagement`})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(p,{size:50,src:"/img/avatars/thumb-1.jpg",shape:"square"}),e.jsx(p,{size:50,src:"/img/avatars/thumb-1.jpg",shape:"square"}),e.jsx(p,{size:50,src:"/img/avatars/thumb-1.jpg",shape:"square"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(n,{size:"xs",variant:"solid",children:"Promote"}),e.jsx(n,{size:"xs",variant:"default",children:"Disqualify"})]})]},l.id))]})]})},D=[{id:1,title:"Reshma",email:"abc@gmail.com",followers:"10k",engagement:"6"},{id:2,title:"Reshma",email:"abc@gmail.com",followers:"20k",engagement:"10"},{id:3,title:"Reshma",email:"abc@gmail.com",followers:"30k",engagement:"15"}],se=()=>{const s=N(),t=g(o=>o.knowledgeBaseManageArticles.data.loading),r=g(o=>o.knowledgeBaseManageArticles.data.categorizedArticles);f.useEffect(()=>{c()},[]);const c=()=>{s(G())};return e.jsxs(L,{loading:t,children:[r.map(o=>e.jsx(ee,{data:o},o.value)),e.jsx(_,{data:r})]})};F("knowledgeBaseManageArticles",X);const te=()=>e.jsx(K,{children:e.jsx(P,{children:e.jsx(se,{})})}),qe=te;export{qe as default};
