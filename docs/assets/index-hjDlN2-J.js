import{r as c,j as o,aS as w}from"./index-sFzf4xgK.js";import{D as z}from"./DemoLayout-6YSyujB2.js";import{B as S}from"./Button-7VCVZJfX.js";import{D as N}from"./DataTable-ZYz8MWbl.js";import{I as A}from"./Input-54qFW4_N.js";import{d as I}from"./debounce-GOWtJoGU.js";import"./AdaptableCard-ZmpuYt9J.js";import"./Card-0NcWSoxi.js";import"./Views-cMR82yL4.js";import"./Affix-RKCuz81n.js";import"./Tooltip-2HBl8IKw.js";import"./index.esm-PEPNg8t8.js";import"./floating-ui.react-xe1dPT16.js";import"./floating-ui.dom-KU0eYpRY.js";import"./index-F1ElV9AB.js";import"./motion-JMywUYCu.js";import"./index.esm-a15joBQq.js";import"./SyntaxHighlighter-TNfh7BjM.js";import"./unsupportedIterableToArray-RbDDH4Bc.js";import"./toConsumableArray-TeBove6f.js";import"./index-mu0NPuvO.js";import"./index-lwixXq3m.js";import"./DemoComponentApi-G_FgO4cB.js";import"./index-U7R5GIaq.js";import"./index.esm-iiyI-toU.js";import"./context-_X_Ia2Rl.js";import"./Pagination-gVOcxBx4.js";import"./Select-aeRvqRmw.js";import"./slicedToArray-IZTdWzIB.js";import"./index-mB9DlPfx.js";import"./TableRowSkeleton-HTHbCOTH.js";import"./Skeleton-yp1ZlUZw.js";import"./index-7lD32DxE.js";import"./isNil-jxFxtNPR.js";const P=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),d=c.useMemo(()=>[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:i=>o.jsx(S,{size:"xs",onClick:()=>console.log("Action clicked",i),children:"Action"})}],[]),m=i=>{s(r=>({...r,pageIndex:i}))},b=i=>{s(r=>({...r,pageSize:i}))},x=({order:i,key:r})=>{s(h=>({...h,sort:{order:i,key:r}}))};return c.useEffect(()=>{(async()=>{p(!0);const r=await w.post("/api/crm/customers",n);r.data&&(u(r.data.data),p(!1),s(h=>({...h,total:r.data.total})))})()},[n.pageIndex,n.sort,n.pageSize]),o.jsx(N,{columns:d,data:g,loading:f,pagingData:{total:n.total,pageIndex:n.pageIndex,pageSize:n.pageSize},onPaginationChange:m,onSelectChange:b,onSort:x})},v=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState([]),[d,m]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),b=e=>{console.log("Action clicked",e)},x=()=>{console.log("selectedRows",n)},i=c.useMemo(()=>[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:e=>o.jsx(S,{size:"xs",onClick:()=>b(e),children:"Action"})}],[]),r=e=>{m(a=>({...a,pageIndex:e}))},h=e=>{m(a=>({...a,pageSize:e}))},k=({order:e,key:a})=>{m(l=>({...l,sort:{order:e,key:a}}))},C=(e,a)=>{console.log("row",a),s(e?l=>l.includes(a.name)?l:[...l,a.name]:l=>l.includes(a.name)?l.filter(y=>y!==a.name):l)},t=(e,a)=>{if(console.log("rows",a),e){const l=a.map(D=>D.original),y=[];l.forEach(D=>{y.push(D.name)}),s(y)}else s([])};return c.useEffect(()=>{(async()=>{p(!0);const a=await w.post("/api/crm/customers",d);a.data&&(u(a.data.data),p(!1),m(l=>({...l,total:a.data.total})))})()},[d.pageIndex,d.sort,d.pageSize]),o.jsxs(o.Fragment,{children:[n.length>0&&o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx(S,{size:"sm",variant:"solid",onClick:x,children:"Batch Action"})}),o.jsx(N,{selectable:!0,columns:i,data:g,loading:f,pagingData:d,onPaginationChange:r,onSelectChange:h,onSort:k,onCheckBoxChange:C,onIndeterminateCheckBoxChange:t})]})},B=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),d=c.useRef(null),m=I(b,500);function b(t){typeof t=="string"&&(t.length>1||t.length===0)&&s(e=>({...e,query:t,pageIndex:1}))}const x=t=>{m(t.target.value)},i=t=>{console.log("Action clicked",t)},r=[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:t=>o.jsx(S,{size:"xs",onClick:()=>i(t),children:"Action"})}],h=t=>{s(e=>({...e,pageIndex:t}))},k=t=>{s(e=>({...e,pageSize:t}))},C=({order:t,key:e})=>{console.log({order:t,key:e}),s(a=>({...a,sort:{order:t,key:e}}))};return c.useEffect(()=>{(async()=>{p(!0);const e=await w.post("/api/crm/customers",n);e.data&&(u(e.data.data),p(!1),s(a=>({...a,total:e.data.total})))})()},[n.pageIndex,n.sort,n.pageSize,n.query]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx(A,{ref:d,placeholder:"Search...",size:"sm",className:"lg:w-52",onChange:x})}),o.jsx(N,{columns:r,data:g,loading:f,pagingData:n,onPaginationChange:h,onSelectChange:k,onSort:C})]})},j="DataTableDoc",T={title:"DataTable",desc:'DataTable is often used table logic encapsulated component, it can save up some boilerplate setup from <a class="text-indigo-600 underline" href="https://react-table-v7.tanstack.com/" target="_blank">react-table</a> & quick start with your async table data.'},E=[{mdName:"Basic",mdPath:j,title:"Basic",desc:"",component:o.jsx(P,{})},{mdName:"Checkable",mdPath:j,title:"Checkable",desc:"",component:o.jsx(v,{})},{mdName:"Query",mdPath:j,title:"Query",desc:"",component:o.jsx(B,{})}],R=[{component:"DataTable",api:[{propName:"columns",type:'<a class="text-indigo-600 underline" href="https://tanstack.com/table/v8/docs/guide/column-defs" target="_blank"><code>Array&lt;Column&gt;</code></a>',default:"<code>[]</code>",desc:"The core columns configuration object for the entire table"},{propName:"data",type:"<code>Array&lt;any&gt;</code>",default:"<code>[]</code>",desc:"The data array that you want to display on the table"},{propName:"loading",type:"<code>boolean</code>",default:"<code>false</code>",desc:"Wheter to display loading indicator on the table"},{propName:"onCheckBoxChange",type:"<code>(checked: boolean, row: any) => void</code>",default:"-",desc:"Callback when row checkbox is changed, return a checkbox value & changed row data"},{propName:"onIndeterminateCheckBoxChange",type:"<code>(checked: boolean, rows: any) => void</code>",default:"-",desc:"Callback when indeterminate checkbox is changed, return indeterminate checkbox value & all rows data"},{propName:"onPaginationChange",type:"<code>(pageIndex: number) => void</code>",default:"-",desc:"Callback when pagination changed"},{propName:"onSelectChange",type:"<code>(pageSize: number) => void</code>",default:"-",desc:"Callback when page size selector changed"},{propName:"onSort",type:"<code>(pageSize: {order: 'desc' | 'asc', key: string}) => void</code>",default:"-",desc:"Callback when any column of sorted changed, return sort order & sorted column identifier"},{propName:"pageSizes",type:"<code>number[]</code>",default:"<code>[10, 25, 50, 100]</code>",desc:"Options of selectable page sizes"},{propName:"skeletonAvatarColumns",type:"<code>number[]</code>",default:"-",desc:"Specify skeleton avatar display is which column when loading is true"},{propName:"skeletonAvatarProps",type:'<a class="text-indigo-600 underline" href="/ui-components/avatar#api" target="_blank"><code>AvatarProps</code></a>',default:"-",desc:"Props for skeleton avatar"},{propName:"pagingData",type:"<code>{total: number, pageIndex: number, pageSize: number}</code>",default:"<code>{total: 0, pageIndex: 1, pageSize: 10}</code>",desc:"Paging state of tthe table"}]}],fe=()=>o.jsx(z,{innerFrame:!1,header:T,demos:E,api:R,mdPrefixPath:"shared"});export{fe as default};
