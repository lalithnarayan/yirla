import{r as j,j as e,ao as u}from"./index-sFzf4xgK.js";import{F as f,a as g,b as F,c as v,d as y}from"./formik.esm-uH6H_cO4.js";import{I as b}from"./Input-54qFW4_N.js";import{B as N}from"./Button-7VCVZJfX.js";import{A as S}from"./Alert-il9ij-vz.js";import{A as w}from"./ActionLink-wXsrwC9R.js";import{u as E}from"./useTimeOutMessage-LpqWv8gR.js";import{c as k,a as I}from"./index.esm-ng5xLdUg.js";const P=k().shape({email:I().required("Please enter your email")}),O=l=>{const{disableSubmit:m=!1,className:c,signInUrl:d="/sign-in"}=l,[o,h]=j.useState(!1),[t,p]=E(),x=async(a,s)=>{var i,n;s(!0);try{(await u(a)).data&&(s(!1),h(!0))}catch(r){p(((n=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:n.message)||r.toString()),s(!1)}};return e.jsxs("div",{className:c,children:[e.jsx("div",{className:"mb-6",children:o?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Forgot Password"}),e.jsx("p",{children:"Please enter your email address to receive a verification code"})]})}),t&&e.jsx(S,{showIcon:!0,className:"mb-4",type:"danger",children:t}),e.jsx(f,{initialValues:{email:"admin@mail.com"},validationSchema:P,onSubmit:(a,{setSubmitting:s})=>{m?s(!1):x(a,s)},children:({touched:a,errors:s,isSubmitting:i})=>e.jsx(g,{children:e.jsxs(F,{children:[e.jsx("div",{className:o?"hidden":"",children:e.jsx(v,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(y,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:b})})}),e.jsx(N,{block:!0,loading:i,variant:"solid",type:"submit",children:o?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(w,{to:d,children:"Sign in"})]})]})})})]})};export{O as F};
