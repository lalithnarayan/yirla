import{j as e,r as A,af as N}from"./index-sFzf4xgK.js";import{I as j}from"./Input-54qFW4_N.js";import{B as L}from"./Button-7VCVZJfX.js";import{C as z}from"./index-mB9DlPfx.js";import{S as F}from"./Select-aeRvqRmw.js";import{F as P,a as q,b as I,c,d as l}from"./formik.esm-uH6H_cO4.js";import{c as b}from"./countries.constant-BuYxc7aV.js";import{c as v,a as d,d as M}from"./index.esm-ng5xLdUg.js";import"./context-_X_Ia2Rl.js";import"./isNil-jxFxtNPR.js";import"./slicedToArray-IZTdWzIB.js";import"./unsupportedIterableToArray-RbDDH4Bc.js";import"./toConsumableArray-TeBove6f.js";import"./floating-ui.dom-KU0eYpRY.js";import"./index.esm-a15joBQq.js";import"./index-F1ElV9AB.js";import"./motion-JMywUYCu.js";const S=v().shape({country:d().required("Please select country"),addressLine1:d().required("Please enter your address"),addressLine2:d(),city:d().required("Please enter your city"),state:d().required("Please enter your state"),zipCode:d().required("Please enter zip code"),sameCorrespondenceAddress:M(),correspondenceAddress:v().when("sameCorrespondenceAddress",{is:!1,then:n=>n.shape({country:d().required("Please select country"),addressLine1:d().required("Please enter your address"),addressLine2:d(),city:d().required("Please enter your city"),state:d().required("Please enter your state"),zipCode:d().required("Please enter zip code")}),otherwise:n=>n})}),g=n=>{const{values:h,touched:m,errors:C,countryName:i,addressLine1Name:p,addressLine2Name:r,cityName:a,stateName:u,zipCodeName:x}=n,s=A.useCallback(t=>N(C,t),[C]),o=A.useCallback(t=>N(m,t),[m]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(c,{label:"Country",invalid:s(i)&&o(i),errorMessage:s(i),children:e.jsx(l,{name:i,children:({field:t,form:f})=>e.jsx(F,{placeholder:"Country",field:t,form:f,options:b,value:b.filter(y=>y.value===N(h,i)),onChange:y=>f.setFieldValue(t.name,y==null?void 0:y.value)})})}),e.jsx(c,{label:"Address Line 1",invalid:s(p)&&o(p),errorMessage:s(p),children:e.jsx(l,{type:"text",autoComplete:"off",name:p,placeholder:"Address Line 1",component:j})})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(c,{label:"Address Line 2",invalid:s(r)&&o(r),errorMessage:s(r),children:e.jsx(l,{type:"text",autoComplete:"off",name:r,placeholder:"Address Line 2",component:j})}),e.jsx(c,{label:"City",invalid:s(a)&&o(a),errorMessage:s(a),children:e.jsx(l,{type:"text",autoComplete:"off",name:a,placeholder:"City",component:j})})]}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(c,{label:"State",invalid:s(u)&&o(u),errorMessage:s(u),children:e.jsx(l,{type:"text",autoComplete:"off",name:u,placeholder:"State",component:j})}),e.jsx(c,{label:"Zip Code",invalid:s(x)&&o(x),errorMessage:s(x),children:e.jsx(l,{type:"text",autoComplete:"off",name:x,placeholder:"Zip Code",component:j})})]})]})},W=({data:n={country:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",sameCorrespondenceAddress:!0,correspondenceAddress:{country:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:""}},onNextChange:h,onBackChange:m,currentStepStatus:C})=>{const i=(r,a)=>{h==null||h(r,"addressInformation",a)},p=()=>{m==null||m()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-2",children:"Address Information"}),e.jsx("p",{children:"Enter your address information help us to speed up the verication process."})]}),e.jsx(P,{enableReinitialize:!0,initialValues:n,validationSchema:S,onSubmit:(r,{setSubmitting:a})=>{a(!0),setTimeout(()=>{i(r,a)},1e3)},children:({values:r,touched:a,errors:u,isSubmitting:x})=>{const s={values:r,touched:a,errors:u};return e.jsx(q,{children:e.jsxs(I,{children:[e.jsx("h5",{className:"mb-4",children:"Permanent Address"}),e.jsx(g,{countryName:"country",addressLine1Name:"addressLine1",addressLine2Name:"addressLine2",cityName:"city",stateName:"state",zipCodeName:"zipCode",...s}),e.jsx(c,{children:e.jsx(l,{name:"sameCorrespondenceAddress",children:({field:o,form:t})=>e.jsx(z,{checked:r.sameCorrespondenceAddress,onChange:f=>t.setFieldValue(o.name,f),children:"Correspondence address is same as above"})})}),!r.sameCorrespondenceAddress&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"mb-4",children:"Correspondence Address"}),e.jsx(g,{countryName:"correspondenceAddress.country",addressLine1Name:"correspondenceAddress.addressLine1",addressLine2Name:"correspondenceAddress.addressLine2",cityName:"correspondenceAddress.city",stateName:"correspondenceAddress.state",zipCodeName:"correspondenceAddress.zipCode",...s})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",onClick:p,children:"Back"}),e.jsx(L,{loading:x,variant:"solid",type:"submit",children:C==="complete"?"Save":"Next"})]})]})})}})]})};export{W as default};
