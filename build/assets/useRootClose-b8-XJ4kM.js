import{r as o,aa as E}from"./index-sFzf4xgK.js";function K(r){const u=o.useRef(null);return r||u}const d=(r,u)=>{if(r.contains)return r.contains(u);if(r.compareDocumentPosition)return r===u||!!(r.compareDocumentPosition(u)&16);if(u)do if(u===r)return!0;while(u=u.parentNode);return!1},p=r=>r&&("current"in r?r.current:r);function a(r){const u=(r==null?void 0:r.root)||(r==null?void 0:r.child)||p(r);return u!=null&&u.nodeType&&typeof(u==null?void 0:u.nodeName)=="string"?u:E.findDOMNode(u)}function D(r){return(r==null?void 0:r.button)===0}function y(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r!=null&&r.shiftKey)}function h(r,u,t,c=!1){return r.addEventListener(u,t,c),{off(){r.removeEventListener(u,t,c)}}}function N(r,{disabled:u,triggerTarget:t,overlayTarget:c}){const f=o.useCallback(n=>{const s=a(t),i=a(c);s&&d(s,n.target)||i&&d(i,n.target)||y(n)||!D(n)||r==null||r(n)},[r,t,c]);o.useEffect(()=>{const n=a(t);if(u||!n)return;const i=h(n&&n.ownerDocument||document,"mousedown",f,!0);return()=>{i==null||i.off()}},[t,u,r,f])}export{K as a,N as u};
